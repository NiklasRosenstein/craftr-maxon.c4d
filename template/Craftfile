# craftr_module(plugin)
#
# Copyright (C) <Year> <Name>
# All rights reserved.

setdefault('build_dir', join(project_dir, 'build'), set_global=True)
setdefault('debug', False, set_global=True)

append_search_path('..')
load_module('platform')
c4d = load_module('maxon.c4d')

include_dir = join(project_dir, 'include')
source_dir = join(project_dir, 'source')
plugin_dir = join(project_dir, 'plugin')
build_dir = join(build_dir, c4d.gen_build_dir_base(debug), module.identifier)

Objects = c4d.cxx_objects(
  sources = glob(join(source_dir, '**/*.cpp')),
  includes = [include_dir, plugin_dir],
)

Plugin = c4d.cxx_plugin(
  filename = join(plugin_dir, module.identifier),
  inputs = [Objects],
  libs = [],
  external_libs = [],
)
