# craftr_module(plugin)
#
# Copyright (C) <Year> <Name>
# All rights reserved.

setdefault('build_dir', join(project_dir, 'build'), set_global=True)
setdefault('debug', False, set_global=True)

append_search_path('..')
load_module('platform')
c4d = load_module('maxon.c4d')

build_dir = join(build_dir, c4d.gen_build_dir_base(debug), module.identifier)

Objects = c4d.cxx_objects(
  sources = glob(join(project_dir, 'source/**/*.cpp')),
  includes = [project_dir, join(project_dir, 'include')],
)

Plugin = c4d.cxx_plugin(
  filename = module.identifier,
  inputs = [Objects],
  libs = [],
  external_libs = [],
)
